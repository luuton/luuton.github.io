import{o as W,a as G,i as H,s as E}from"./lifecycle.BEG9Hqc7.js";import{c as J,f as K,a as f,p as Q,b as R,h as F,m as L,d as b,e as r,r as i,s as m,g as a,t as U,k as A}from"./utils.BRGgQGxY.js";import{s as T}from"./render.BvoO-zwv.js";import{i as D}from"./if.DArQ9Kbp.js";import{e as V,i as X}from"./each.BJig15T2.js";import{b as Y}from"./this.C5OF1Wpg.js";import{I as Z}from"./Icon.BAZp79VP.js";import{s as aa}from"./config.BCAPSS0j.js";/* empty css                        */import"./props.CFgvYuj9.js";const ea={zh_CN:"chinese_simplified",zh_TW:"chinese_traditional",en:"english",ja:"japanese",ko:"korean",es:"spanish",th:"thai",vi:"vietnamese",tr:"turkish",id:"indonesian",fr:"french",de:"german",ru:"russian",ar:"arabic"};function ta(p){return ea[p]}var na=b('<span class="ml-auto text-[var(--primary)]">✓</span>'),ia=b('<button><span class="text-lg transition text-black/75 dark:text-white/75"> </span> <span> </span> <!></button>'),oa=b('<div class="relative"><button aria-label="Language Translation" class="btn-plain scale-animation rounded-lg h-11 w-11 active:scale-90" id="translate-switch"><!></button> <div id="translate-panel" class="float-panel-closed absolute top-[3.5rem] right-0 z-50 w-64 bg-[var(--float-panel-bg)] rounded-[var(--radius-large)] shadow-lg border border-[var(--line-divider)] p-4 svelte-1gzaqoe"><div class="text-sm font-medium text-[var(--primary)] mb-3">选择语言 / Select Language</div> <div class="grid grid-cols-1 gap-2 max-h-64 overflow-y-auto svelte-1gzaqoe"></div></div></div>');function va(p,C){R(C,!1);let o=!1,t=L(),l=L("");const z=[{code:"chinese_simplified",name:"简体中文",icon:"🇨🇳"},{code:"chinese_traditional",name:"繁體中文",icon:"🇹🇼"},{code:"english",name:"English",icon:"🇺🇸"},{code:"japanese",name:"日本語",icon:"🇯🇵"},{code:"korean",name:"한국어",icon:"🇰🇷"},{code:"french",name:"Français",icon:"🇫🇷"},{code:"german",name:"Deutsch",icon:"🇩🇪"},{code:"spanish",name:"Español",icon:"🇪🇸"},{code:"russian",name:"Русский",icon:"🇷🇺"},{code:"arabic",name:"العربية",icon:"🇸🇦"}],x=ta(aa.lang);function j(){o=!o,a(t)&&a(t).classList.toggle("float-panel-closed",!o)}async function B(n){try{if(typeof window.loadTranslateScript=="function"&&await window.loadTranslateScript(),typeof window.translate<"u"&&window.translate.language&&typeof window.translate.language.getLocal=="function"){const e=window.translate.language.getLocal();n==="chinese_simplified"&&e==="chinese_simplified"&&(typeof window.translate.reset=="function"&&window.translate.reset(),window.translate.language&&(window.translate.language.translateLocal=!0)),window.translate.to=n,typeof window.translate.execute=="function"&&window.translate.execute()}else console.warn("translate.js is not fully loaded or language API is not available");F(l,n)}catch(e){console.error("Failed to load or execute translation:",e)}o=!1,a(t)&&a(t).classList.add("float-panel-closed")}function _(n){const e=n.target;!o||!a(t)||!a(t).contains(e)&&!e.closest("#translate-switch")&&(o=!1,a(t).classList.add("float-panel-closed"))}W(()=>{document.addEventListener("click",_),F(l,x),typeof window.translate<"u"&&(window.translate.to=x)}),G(()=>{document.removeEventListener("click",_)}),H();var k=J(),I=K(k);{var P=n=>{var e=oa(),u=r(e),S=r(u);Z(S,{icon:"material-symbols:translate",class:"text-[1.25rem] transition text-black/75 dark:text-white/75 hover:text-[var(--primary)]"}),i(u);var g=m(u,2),y=m(r(g),2);V(y,5,()=>z,X,(v,s)=>{var c=ia(),h=r(c),q=r(h,!0);i(h);var d=m(h,2),M=r(d,!0);i(d);var O=m(d,2);{var $=w=>{var N=na();f(w,N)};D(O,w=>{a(l)===a(s).code&&w($)})}i(c),U(()=>{E(c,1,`flex items-center gap-3 p-2 rounded-lg hover:bg-[var(--btn-plain-bg-hover)] transition-colors text-left w-full ${a(l)===a(s).code?"bg-[var(--btn-plain-bg-hover)] border-1 border-[var(--primary)]":""}`),T(q,a(s).icon),E(d,1,`text-sm transition text-black/75 dark:text-white/75 ${a(l)===a(s).code?"font-medium text-[var(--primary)]":""}`),T(M,a(s).name)}),A("click",c,()=>B(a(s).code)),f(v,c)}),i(y),i(g),Y(g,v=>F(t,v),()=>a(t)),i(e),A("click",u,j),f(n,e)};D(I,n=>{n(P)})}f(p,k),Q()}export{va as default};
